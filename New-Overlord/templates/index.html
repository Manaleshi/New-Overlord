<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Overlord - Fantasy Strategy Game</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>New Overlord</h1>
            <p class="subtitle">Modern Recreation of the Classic Fantasy Strategy Game</p>
        </header>

        <main>
            <div class="welcome-section">
                <h2>Welcome to New Overlord</h2>
                <p>A faithful recreation of Vincent Archer's legendary play-by-email fantasy strategy game, now modernized for the web.</p>
                
                <div class="game-features">
                    <div class="feature">
                        <h3>üó∫Ô∏è World Building</h3>
                        <p>Create rich, detailed fantasy worlds with varied terrain, resources, and civilizations.</p>
                    </div>
                    
                    <div class="feature">
                        <h3>‚öîÔ∏è Strategic Gameplay</h3>
                        <p>Command factions, manage resources, engage in diplomacy, and wage epic battles.</p>
                    </div>
                    
                    <div class="feature">
                        <h3>üéØ Turn-Based</h3>
                        <p>Experience the classic rhythm of planning, submitting orders, and anticipating results.</p>
                    </div>
                </div>
            </div>

            <div class="tools-section">
                <h2>Game Tools</h2>
                <div class="tool-grid">
                    <div class="tool-card">
                        <h3>World Generator</h3>
                        <p>Create and customize game worlds with terrain, populations, and resources.</p>
                        <a href="/world-generator" class="btn btn-primary">Open World Generator</a>
                    </div>
                    
                    <div class="tool-card coming-soon">
                        <h3>Game Engine</h3>
                        <p>Process turns, manage factions, and run the core game mechanics.</p>
                        <span class="btn btn-disabled">Coming Soon</span>
                    </div>
                    
                    <div class="tool-card coming-soon">
                        <h3>Player Interface</h3>
                        <p>Submit orders, view reports, and communicate with other players.</p>
                        <span class="btn btn-disabled">Coming Soon</span>
                    </div>
                </div>
            </div>

            <div class="project-info">
                <h2>Project Status</h2>
                <div class="status-grid">
                    <div class="status-item completed">
                        <span class="status-icon">‚úÖ</span>
                        <span>World Generator</span>
                    </div>
                    <div class="status-item in-progress">
                        <span class="status-icon">üîÑ</span>
                        <span>Core Game Engine</span>
                    </div>
                    <div class="status-item planned">
                        <span class="status-icon">üìã</span>
                        <span>Player Interface</span>
                    </div>
                    <div class="status-item planned">
                        <span class="status-icon">üéÆ</span>
                        <span>Advanced Features</span>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>&copy; 2024 New Overlord Project | Inspired by Vincent Archer's Original Overlord</p>
        </footer>
    </div>

    <script>
        // Check game status and show/hide faction button
        async function checkGameStatus() {
            try {
                const response = await fetch('/api/game-status');
                const status = await response.json();
                
                const factionCard = document.querySelector('.card:first-child');
                const createBtn = factionCard.querySelector('.btn');
                
                if (!status.game_ready) {
                    // Game not ready - disable button and show message
                    createBtn.style.display = 'none';
                    const message = document.createElement('p');
                    message.style.cssText = 'color: #ff9800; font-weight: bold; margin-top: 1rem;';
                    message.textContent = '‚è≥ Game is being prepared by the GM...';
                    factionCard.appendChild(message);
                }
            } catch (error) {
                console.error('Error checking game status:', error);
            }
        }
        
        // Check on page load
        document.addEventListener('DOMContentLoaded', checkGameStatus);
    </script>
</body>
    
</html>


