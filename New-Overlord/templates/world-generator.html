<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>World Generator - New Overlord</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>World Generator</h1>
            <nav>
                <a href="/" class="btn btn-secondary">‚Üê Back to Main</a>
            </nav>
        </header>

        <main class="world-generator">
            <div class="generator-layout">
                <!-- Control Panel -->
                <div class="control-panel">
                    <div class="panel-section">
                        <h3>World Configuration</h3>
                        
                        <div class="form-group">
                            <label for="world-name">World Name:</label>
                            <input type="text" id="world-name" placeholder="My Fantasy World">
                        </div>
                        
                        <div class="form-group">
                            <label for="world-width">Width:</label>
                            <input type="number" id="world-width" value="5" min="3" max="20">
                        </div>
                        
                        <div class="form-group">
                            <label for="world-height">Height:</label>
                            <input type="number" id="world-height" value="5" min="3" max="20">
                        </div>
                    </div>

                    <div class="panel-section">
                        <h3>Terrain Types</h3>
                        <div id="terrain-types" class="checkbox-group">
                            <!-- Terrain checkboxes will be populated by JavaScript -->
                        </div>
                    </div>

                    <div class="panel-section">
                        <h3>Population Settings</h3>
                        
                        <div class="form-group">
                            <label for="population-density">Settlement Density:</label>
                            <input type="range" id="population-density" min="0.1" max="0.8" step="0.1" value="0.3">
                            <span id="density-value">30%</span>
                        </div>
                        
                        <div class="form-group">
                            <label>Available Races:</label>
                            <div id="race-types" class="checkbox-group">
                                <!-- Race checkboxes will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <div class="panel-section">
                        <h3>Actions</h3>
                        <button id="generate-btn" class="btn btn-primary">Generate World</button>
                        <button id="clear-btn" class="btn btn-secondary">Clear Map</button>
                        <button id="save-btn" class="btn btn-success">Save World</button>
                        <button id="load-btn" class="btn btn-info">Load World</button>
                    </div>

                    <div class="panel-section">
                        <h3>Export</h3>
                        <button id="export-btn" class="btn btn-warning">Export JSON</button>
                        <div id="export-output" class="export-area" style="display: none;">
                            <textarea id="export-text" readonly rows="10"></textarea>
                            <button id="copy-export" class="btn btn-small">Copy to Clipboard</button>
                        </div>
                    </div>
                </div>

                <!-- Map Display -->
                <div class="map-container">
                    <div class="map-header">
                        <h3>World Map</h3>
                        <div class="map-controls">
                            <label>
                                <input type="checkbox" id="show-coordinates"> Show Coordinates
                            </label>
                            <label>
                                <input type="checkbox" id="show-resources"> Show Resources
                            </label>
                        </div>
                    </div>
                    
                    <div id="hex-map" class="hex-map">
                        <!-- Hex map will be generated by JavaScript -->
                    </div>
                    
                    <div class="map-info">
                        <div id="hex-info" class="hex-info">
                            <p>Click on a hex to see details or edit terrain</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Legend -->
            <div class="legend">
                <h4>Terrain Legend</h4>
                <div id="terrain-legend" class="legend-grid">
                    <!-- Legend items will be populated by JavaScript -->
                </div>
            </div>
        </main>

        <!-- Modal for Load World -->
        <div id="load-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Load World</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body">
                    <div id="world-list">
                        <!-- World files list will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Status Messages -->
        <div id="status-message" class="status-message" style="display: none;">
            <span id="status-text"></span>
            <button class="status-close">&times;</button>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/hex-map.js') }}"></script>
    <script src="{{ url_for('static', filename='js/world-generator.js') }}"></script>
</body>
</html>